<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' data:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; script-src 'self' https://cdn.jsdelivr.net; font-src 'self' https://fonts.gstatic.com;">
    <title>Disparador de WhatsApp</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>
    <div class="app-container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h3>Disparador</h3>
            </div>
            <ul class="nav-links">
                <li><a href="#" class="nav-link active" data-page="dashboard">üì± Contas</a></li>
                <li><a href="#" class="nav-link" data-page="config">‚öôÔ∏è Disparo</a></li>
                <li><a href="#" class="nav-link" data-page="log">üìú Logs</a></li>
            </ul>
            <div class="theme-switcher">
                <span>Modo Escuro</span>
                <label class="switch"><input type="checkbox" id="theme-toggle"><span
                        class="slider round"></span></label>
            </div>
        </nav>

        <main class="main-content">
            <section id="dashboard" class="page active">
                <header>
                    <h1>Gerenciador de Contas</h1>
                </header>
                <div class="card">
                    <div class="card-header">
                        <h2>Contas Salvas</h2>
                        <button id="add-session-btn" class="primary">Adicionar Nova Conta</button>
                    </div>
                    <div class="table-container">
                        <table id="sessions-table">
                            <thead>
                                <tr>
                                    <th>Nome da Conta</th>
                                    <th>N√∫mero</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="sessions-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card hidden" id="add-session-form-container">
                    <h2>Nome da Nova Conta</h2>
                    <div class="form-group">
                        <label for="session-name-input">Nome da Conta:</label>
                        <input type="text" id="session-name-input" placeholder="Ex: Conta Principal">
                    </div>
                    <div class="button-group">
                        <button id="confirm-add-session-btn" class="primary">Salvar e Gerar QR Code</button>
                        <button id="cancel-add-form-btn" class="danger">Cancelar</button>
                    </div>
                </div>

                <div class="card hidden" id="new-session-qr-container">
                    <h2>Conectar Nova Conta</h2>
                    <p id="qr-status-message">Aguardando QR Code...</p>
                    <div id="qr-code-wrapper">
                    </div>
                    <button id="cancel-add-session-btn" class="danger">Cancelar</button>
                </div>
            </section>

            <section id="config" class="page">
                <header>
                    <h1>Configura√ß√µes de Disparo</h1>
                </header>
                <div class="card" id="configuration-area">
                    <div class="form-group">
                        <label for="session-selector">Usar a conta:</label>
                        <select id="session-selector">
                            <option value="">Nenhuma conta conectada</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="message-input">Mensagem (use {nome} para personalizar):</label>
                        <textarea id="message-input" rows="5"
                            placeholder="Ol√° {nome}, esta √© uma mensagem de teste."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="delay-input">Atraso entre Envios (segundos):</label>
                        <input type="number" id="delay-input" min="1" value="5">
                    </div>
                    <div class="button-group">
                        <button id="prepare-btn">Carregar e Preparar Planilha</button>
                        <button id="start-send-btn" disabled>üöÄ Iniciar Disparo</button>
                        <button id="pause-send-btn" class="warning hidden">‚è∏ Pausar Disparo</button>
                        <button id="cancel-send-btn" class="danger hidden">‚ùå Cancelar Disparo</button>
                    </div>
                </div>
            </section>

            <section id="log" class="page">
                <header>
                    <h1>Log de Mensagens</h1>
                </header>
                <div class="card" id="log-area">
                    <h2>Acompanhamento em Tempo Real</h2>
                    <div id="message-log">
                        <p class="initial">Aguardando in√≠cio dos envios...</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <script src="./assets/js/render.js"></script>
</body>

</html>